{% raw %}{{< mermaid >}}{% endraw %}

%%{ init: { 'flowchart': { 'curve': 'cardinal' } } }%%

flowchart LR

    {% for endpoint in service.api.rest.consumes %}
        {{endpoint.service}}({{service_title(services[endpoint.service])}}):::srcClass --- {{service.api.rest.consumes.index(endpoint)}}[["{{endpoint.path}}"]]
        {{service.api.rest.consumes.index(endpoint)}}[["{{endpoint.path}}"]] -. "{{endpoint.method}}" .-> {{service.shortname}}({{service_title(service)}}):::srcClass
    {% endfor %}

    subgraph c1 [producers]
    {% for endpoint in service.api.rest.consumes %}
        {{endpoint.service}}({{service_title(services[endpoint.service])}})
        click {{endpoint.service}} "../{{ services[endpoint.service].shortname }}"
    {% endfor %}
    end

    click {{service.shortname}} "../{{ service.shortname }}"

classDef srcClass fill:#00393F,color:#ffffff
{% raw %}{{</ mermaid >}}{% endraw %}
